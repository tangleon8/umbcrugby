<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="rugbylogo.png" type="image/png" />
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
  <script src="scripts.js" defer></script>
  <!-- Optional Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
    rel="stylesheet"
  />
  <title>UMBC Rugby Home</title>

   <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="UMBC Rugby Club" />
  <meta property="og:description" content="Guys being Dudes since 1984." />
  <meta property="og:image" content="https://ugc.production.linktr.ee/d38ecb41-e2ef-461c-8d63-687e073c054d_DSC-3383.jpeg?io=true&size=avatar-v3_0" />
  <meta property="og:url" content="https://umbcrugby.com" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="UMBC Rugby Club" />

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="UMBC Rugby Club" />
  <meta name="twitter:description" content="Guys being Dudes since 1984." />
  <meta name="twitter:image" content="https://ugc.production.linktr.ee/d38ecb41-e2ef-461c-8d63-687e073c054d_DSC-3383.jpeg?io=true&size=avatar-v3_0" />
</head>
<body>
  <!-- Loading Screen -->
  <div id="loading-screen">
    <img src="rugbylogo.png" alt="UMBC Rugby Logo" class="loading-logo">
  </div>

  <!-- Back to Top Button -->
  <button id="back-to-top" title="Back to Top">‚Üë</button>

  <!-- HEADER -->
  <header id="hero-header">
    <!-- Background Video -->
    <video
      id="header-video"
      autoplay
      muted
      loop
      playsinline
      webkit-playsinline
    >
      <source src="umbcrugby1.mp4" type="video/mp4" />
      Your browser does not support the video tag.
    </video>

    <!-- Gradient Overlay -->
    <div class="hero-overlay"></div>

    <!-- Hero Content -->
    <div class="hero-content" data-aos="fade-up">
      <img src="rugbylogo.png" alt="UMBC Rugby Logo" class="hero-logo" />
      <h1 class="hero-title">UMBC Rugby Club</h1>
      <p class="hero-subtitle">Guys being Dudes since 1984</p>
      <a href="#about" class="cta-button">Learn More</a>
    </div>
  </header>

  <!-- NAVIGATION: Placed AFTER header to avoid overlapping the video -->
  <nav id="navbar" class="hero-nav">
    <ul>
      <li><a href="index.html" class="active">Home</a></li>
      <li><a href="roster.html">Roster</a></li>
      <li><a href="schedule.html">Schedule</a></li>
      <li><a href="rugby-ready.html">Rugby Ready</a></li>
      <li><a href="recruitment.html">Recruitment</a></li>
      <li><a href="alumni.html">Alumni</a></li>
      <li><a href="donate.html">Donate</a></li>
      <li><a href="faq.html">FAQs</a></li>
      <li><button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">üåô</button></li>
    </ul>
  </nav>

  <!-- Main Content -->
  <main>
    <!-- About Section -->
    <section id="about" class="about-section" data-aos="fade-up">
      <div class="container">
        <h2 class="section-title">About UMBC Rugby</h2>
        <div class="about-content">
          <div class="about-text">
            <p>
              Founded in 1984, the UMBC Men's Rugby Club is the only contact sport at UMBC
              and is a proud member of the National Collegiate Rugby Division II. We are dedicated
              to excellence in competition and fostering a community of inclusivity and sportsmanship
              on and off the field.
            </p>
            <p>
              Our mission is to develop skilled athletes, supportive teammates, and
              responsible leaders through the sport of rugby. Whether you're new to
              rugby or an experienced player, UMBC Rugby offers a welcoming
              environment to grow.
            </p>
            <p>
              Join us today and be part of our tradition of passion and pride that
              enriches campus life and personal growth.
            </p>
            <a href="recruitment.html" class="cta-button">Join The Team</a>
          </div>
          <div class="about-image">
            <img
              src="team-photo.jpeg"
              alt="UMBC Rugby Team Photo"
              class="team-photo"
            />
          </div>
        </div>
      </div>
    </section>


    <!-- Image Carousel Section -->
    <section id="image-carousel" class="info-section" data-aos="fade-up">
      <div class="carousel-container">
        <!-- Carousel Track -->
        <div class="carousel-track">
          <img src="Latchana_Rugby84.jpg" alt="UMBC Rugby Since 1984" class="carousel-image" data-aos="zoom-in" />
          <img src="IMG_7441.jpeg" alt="Rugby Action Shot 1" class="carousel-image" data-aos="zoom-in" data-aos-delay="100" />
          <img src="IMG_7442.jpeg" alt="Rugby Action Shot 2" class="carousel-image" data-aos="zoom-in" data-aos-delay="200" />
          <img src="Latchana_Rugby3.jpg" alt="Rugby Team Spirit" class="carousel-image" data-aos="zoom-in" data-aos-delay="300" />
          <img src="Latchana_rugby106.jpg" alt="Rugby Excellence" class="carousel-image" data-aos="zoom-in" data-aos-delay="400" />
          <img src="umbuc1.jpg" alt="Team Unity" class="carousel-image" data-aos="zoom-in" data-aos-delay="500" />
          <img src="umbuc2.jpg" alt="Rugby Pride" class="carousel-image" data-aos="zoom-in" data-aos-delay="600" />
          <img src="umbuc3.jpg" alt="Championship Spirit" class="carousel-image" data-aos="zoom-in" data-aos-delay="700" />

        </div>

        <!-- Navigation Buttons -->
        <button class="carousel-btn prev" aria-label="Previous Slide">‚Üê</button>
        <button class="carousel-btn next" aria-label="Next Slide">‚Üí</button>

        <!-- Carousel Indicators -->
        <div class="carousel-indicators">
          <span data-slide="0" class="indicator active"></span>
          <span data-slide="1" class="indicator"></span>
          <span data-slide="2" class="indicator"></span>
          <span data-slide="3" class="indicator"></span>
          <span data-slide="4" class="indicator"></span>
          <span data-slide="5" class="indicator"></span>
          <span data-slide="6" class="indicator"></span>
          <span data-slide="7" class="indicator"></span>

        </div>
      </div>

      <!-- Modal -->
      <div class="modal">
        <span class="close-modal">√ó</span>
        <img class="modal-content" alt="Expanded Rugby Image" />
      </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" data-aos="fade-up">
      <h2>What Our Players Say</h2>
      <blockquote>
        "Rugby is the ultimate team sport! It combines the best of both sports I played growing up,
        football and soccer." ‚Äì <strong>Kyle P</strong>.
      </blockquote>
      <blockquote>
        "I played four Varsity sports in High School and have always been competitive. I decided
        to give rugby a try (pun intended) in Fall '23 and have fallen in love with the
        competitive nature of the game, the strategy behind it, and the brotherhood that
        is UMBC Men's Club Rugby." ‚Äì <strong>The Legend</strong>
      </blockquote>
    </section>

    <!-- Instagram Feed Section -->
    <section id="instagram-feed" data-aos="fade-up" data-aos-duration="800">
      <h2 class="section-title" data-aos="fade-right" data-aos-duration="1000">
        Follow Us on Instagram
      </h2>
      <p data-aos="fade-left" data-aos-duration="1200">
        Stay connected and see the latest moments from UMBC Rugby.
      </p>
      <div style="max-width: 900px; margin: auto; padding: 20px; text-align: center;">
        <blockquote class="instagram-media"
          data-instgrm-permalink="https://www.instagram.com/umbcmensrugby/"
          data-instgrm-version="14"
          style="width: 100%; max-width: 800px; margin: 0 auto; border-radius: 12px; overflow: hidden;"
        >
          <div style="padding: 16px;">Loading...</div>
        </blockquote>
      </div>
      <script async src="https://www.instagram.com/embed.js"></script>
    </section>



    <!-- Scrolling Player Section -->
    <section id="scrolling-player-section" data-aos="fade-up">
      <div class="caption">
        <h2>Catch the Kick</h2>
      </div>
      <div class="player-container">
        <img
          src="nate.png"
          alt="Rugby Player Kicking"
          class="player-image"
        />
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <!-- Logo -->
    <div class="footer-logo">
      <img src="rugbylogo.png" alt="UMBC Rugby Logo" />
      <img src="ncr.png" alt="NCR Logo" />
      <img src="umbclogo.png" alt="UMBC Logo" />
    </div>

    <!-- Footer Navigation Links -->
    <nav class="footer-nav">
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="roster.html">Roster</a></li>
        <li><a href="schedule.html">Schedule</a></li>
        <li><a href="rugby-ready.html">Rugby Ready</a></li>
        <li><a href="recruitment.html">Recruitment</a></li>
        <li><a href="alumni.html">Alumni</a></li>
        <li><a href="donate.html">Donate</a></li>
        <li><a href="faq.html">FAQs</a></li>
      </ul>
    </nav>

    <!-- Copyright -->
    <p>&copy; 2025 UMBC Rugby Club. Web Design made by Leon Tang.</p>
  </footer>

  <!-- AOS Library -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    // Initialize AOS
    AOS.init();

// Enhanced JavaScript for UMBC Rugby Website
document.addEventListener('DOMContentLoaded', function() {

    // Dark Mode Toggle
    const themeToggle = document.getElementById('theme-toggle');
    const body = document.body;
    const currentTheme = localStorage.getItem('theme') || 'light';
    
    // Set initial theme
    body.setAttribute('data-theme', currentTheme);
    themeToggle.textContent = currentTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
    
    themeToggle.addEventListener('click', () => {
        const newTheme = body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
        body.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);
        themeToggle.textContent = newTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
    });

    // Initialize AOS with custom settings
    if (typeof AOS !== 'undefined') {
        AOS.init({
            duration: 1000,
            easing: 'ease-out-cubic',
            once: false,
            offset: 100,
            delay: 100
        });
    }

    // Enhanced Navbar Scroll Effects
    const navbar = document.getElementById('navbar');
    let lastScroll = 0;

    window.addEventListener('scroll', () => {
        const currentScroll = window.pageYOffset;

        // Add scrolled class for navbar styling
        if (currentScroll > 50) {
            navbar.classList.add('scrolled');
        } else {
            navbar.classList.remove('scrolled');
        }

        // Hide/show navbar on scroll
        if (currentScroll > lastScroll && currentScroll > 500) {
            navbar.style.transform = 'translateY(-100%)';
        } else {
            navbar.style.transform = 'translateY(0)';
        }

        lastScroll = currentScroll;
    });

    // Enhanced Carousel with Touch Support
    const initCarousel = () => {
        const track = document.querySelector('.carousel-track');
        const images = Array.from(track.children);
        const prevButton = document.querySelector('.carousel-btn.prev');
        const nextButton = document.querySelector('.carousel-btn.next');
        const indicators = document.querySelectorAll('.indicator');
        const modal = document.querySelector('.modal');
        const modalImg = document.querySelector('.modal-content');
        const closeModal = document.querySelector('.close-modal');

        let currentIndex = 0;
        let autoScrollInterval;
        let touchStartX = 0;
        let touchEndX = 0;

        const updateCarousel = () => {
            track.style.transform = `translateX(-${currentIndex * 100}%)`;
            indicators.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentIndex);
            });
        };

        const startAutoScroll = () => {
            autoScrollInterval = setInterval(() => {
                currentIndex = (currentIndex + 1) % images.length;
                updateCarousel();
            }, 4000);
        };

        const stopAutoScroll = () => clearInterval(autoScrollInterval);

        // Navigation
        nextButton.addEventListener('click', () => {
            currentIndex = (currentIndex + 1) % images.length;
            updateCarousel();
            stopAutoScroll();
            startAutoScroll();
        });

        prevButton.addEventListener('click', () => {
            currentIndex = (currentIndex - 1 + images.length) % images.length;
            updateCarousel();
            stopAutoScroll();
            startAutoScroll();
        });

        // Indicators
        indicators.forEach((indicator, index) => {
            indicator.addEventListener('click', () => {
                currentIndex = index;
                updateCarousel();
                stopAutoScroll();
                startAutoScroll();
            });
        });

        // Modal functionality with enhanced animations
        images.forEach((img) => {
            img.addEventListener('click', () => {
                modal.style.display = 'flex';
                modal.classList.add('show');
                modalImg.src = img.src;
                document.body.style.overflow = 'hidden';
            });
        });

        const closeModalFunc = () => {
            modal.classList.remove('show');
            setTimeout(() => {
                modal.style.display = 'none';
                document.body.style.overflow = '';
            }, 300);
        };

        closeModal.addEventListener('click', closeModalFunc);
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModalFunc();
        });

        // Enhanced touch support
        track.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX;
            stopAutoScroll();
        });

        track.addEventListener('touchmove', (e) => {
            touchEndX = e.touches[0].clientX;
        });

        track.addEventListener('touchend', () => {
            const swipeDistance = touchStartX - touchEndX;
            const threshold = 50;

            if (Math.abs(swipeDistance) > threshold) {
                if (swipeDistance > 0) {
                    // Swipe left
                    currentIndex = (currentIndex + 1) % images.length;
                } else {
                    // Swipe right
                    currentIndex = (currentIndex - 1 + images.length) % images.length;
                }
                updateCarousel();
            }
            startAutoScroll();
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (modal.style.display === 'flex') {
                if (e.key === 'Escape') closeModalFunc();
            } else {
                if (e.key === 'ArrowRight') {
                    currentIndex = (currentIndex + 1) % images.length;
                    updateCarousel();
                } else if (e.key === 'ArrowLeft') {
                    currentIndex = (currentIndex - 1 + images.length) % images.length;
                    updateCarousel();
                }
            }
        });

        // Start autoplay
        startAutoScroll();
        track.addEventListener('mouseenter', stopAutoScroll);
        track.addEventListener('mouseleave', startAutoScroll);
    };

    if (document.querySelector('.carousel-track')) {
        initCarousel();
    }

    // Enhanced Back to Top Button
    const backToTopBtn = document.getElementById('back-to-top');
    if (backToTopBtn) {
        window.addEventListener('scroll', () => {
            if (window.scrollY > 500) {
                backToTopBtn.style.display = 'flex';
                backToTopBtn.style.animation = 'fadeInUp 0.5s ease';
            } else {
                backToTopBtn.style.animation = 'fadeOutDown 0.5s ease';
                setTimeout(() => {
                    if (window.scrollY <= 500) {
                        backToTopBtn.style.display = 'none';
                    }
                }, 500);
            }
        });

        backToTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    }

    // Enhanced Scrolling Player Animation
    const playerImage = document.querySelector('.player-image');
    const scrollingPlayerSection = document.getElementById('scrolling-player-section');

    if (playerImage && scrollingPlayerSection) {
        const animatePlayer = () => {
            const scrollPosition = window.scrollY;
            const sectionOffsetTop = scrollingPlayerSection.offsetTop;
            const sectionHeight = scrollingPlayerSection.offsetHeight;
            const windowHeight = window.innerHeight;
            const bottomOfViewport = scrollPosition + windowHeight;

            if (bottomOfViewport >= sectionOffsetTop && scrollPosition <= sectionOffsetTop + sectionHeight) {
                const progress = (bottomOfViewport - sectionOffsetTop) / (sectionHeight + windowHeight);
                const horizontalOffset = progress * window.innerWidth * 1.5;
                const rotation = progress * 360;

                playerImage.style.transform = `translateX(${horizontalOffset}px) rotate(${rotation}deg)`;
                playerImage.style.opacity = Math.min(1, progress * 2);
            }
        };

        window.addEventListener('scroll', animatePlayer);
        animatePlayer(); // Initial call
    }

    // Enhanced Schedule Popup
    const schedulePopup = document.getElementById('schedule-popup');
    const scheduleOverlay = document.getElementById('schedule-popup-overlay');
    const scheduleClose = document.getElementById('schedule-popup-close');
    const downloadIcsBtn = document.getElementById('download-ics-btn');

    // Show popup after delay
    if (schedulePopup && scheduleOverlay) {
        setTimeout(() => {
            scheduleOverlay.style.display = 'block';
            schedulePopup.style.display = 'block';
            setTimeout(() => {
                scheduleOverlay.classList.add('show');
                schedulePopup.classList.add('show');
            }, 10);
        }, 2000);

        const closePopup = () => {
            scheduleOverlay.classList.remove('show');
            schedulePopup.classList.remove('show');
            setTimeout(() => {
                scheduleOverlay.style.display = 'none';
                schedulePopup.style.display = 'none';
            }, 300);
        };

        scheduleClose.addEventListener('click', closePopup);
        scheduleOverlay.addEventListener('click', closePopup);

        // ICS Download functionality
        if (downloadIcsBtn) {
            downloadIcsBtn.addEventListener('click', () => {
                // Create ICS content
                const icsContent = `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//UMBC Rugby//Spring 2025 Schedule//EN
CALSCALE:GREGORIAN
METHOD:PUBLISH
X-WR-CALNAME:UMBC Rugby Spring 2025
X-WR-TIMEZONE:America/New_York
BEGIN:VEVENT
DTSTART:20250301T140000
DTEND:20250301T160000
SUMMARY:UMBC Rugby vs Team 1
LOCATION:UMBC Campus Field
DESCRIPTION:Spring 2025 Season Opener
END:VEVENT
BEGIN:VEVENT
DTSTART:20250308T140000
DTEND:20250308T160000
SUMMARY:UMBC Rugby vs Team 2
LOCATION:Away Field
DESCRIPTION:Conference Match
END:VEVENT
END:VCALENDAR`;

                const blob = new Blob([icsContent], { type: 'text/calendar' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'umbc-rugby-spring-2025.ics';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);

                // Close popup after download
                setTimeout(closePopup, 1000);
            });
        }
    }


    // Enhanced FAQ Accordion
    const faqItems = document.querySelectorAll('.faq-item');
    faqItems.forEach(item => {
        const question = item.querySelector('.faq-question');
        const answer = item.querySelector('.faq-answer');

        question.addEventListener('click', () => {
            const isActive = item.classList.contains('active');

            // Close all other items
            faqItems.forEach(otherItem => {
                if (otherItem !== item) {
                    otherItem.classList.remove('active');
                }
            });

            // Toggle current item
            item.classList.toggle('active');

            // Smooth height animation
            if (!isActive) {
                answer.style.maxHeight = answer.scrollHeight + 'px';
            } else {
                answer.style.maxHeight = '0';
            }
        });
    });

    // Enhanced Roster Interaction
    const rosterItems = document.querySelectorAll('.roster-item');
    rosterItems.forEach(item => {
        const summary = item.querySelector('.roster-summary');

        summary.addEventListener('click', () => {
            const isExpanded = item.classList.contains('expanded');

            // Close all other items
            rosterItems.forEach(otherItem => {
                if (otherItem !== item) {
                    otherItem.classList.remove('expanded');
                }
            });

            // Toggle current item
            item.classList.toggle('expanded');
        });
    });

    // Parallax Effect for Sections
    const parallaxElements = document.querySelectorAll('section');

    window.addEventListener('scroll', () => {
        const scrolled = window.pageYOffset;

        parallaxElements.forEach((element, index) => {
            const speed = 0.5 + (index * 0.1);
            const yPos = -(scrolled * speed);

            if (element.getBoundingClientRect().top < window.innerHeight &&
                element.getBoundingClientRect().bottom > 0) {
                element.style.transform = `translateY(${yPos * 0.1}px)`;
            }
        });
    });

    // Loading Screen
    const loadingScreen = document.getElementById('loading-screen');
    if (loadingScreen) {
        const progressBar = document.querySelector('.progress-bar');
        let progress = 0;

        const loadingInterval = setInterval(() => {
            progress += Math.random() * 30;
            if (progress >= 100) {
                progress = 100;
                clearInterval(loadingInterval);

                setTimeout(() => {
                    loadingScreen.classList.add('hidden');
                    document.body.style.overflow = '';
                }, 500);
            }

            if (progressBar) {
                progressBar.style.width = progress + '%';
            }
        }, 200);
    }

    // Smooth Scroll for Navigation Links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));

            if (target) {
                const offsetTop = target.offsetTop - 100;

                window.scrollTo({
                    top: offsetTop,
                    behavior: 'smooth'
                });
            }
        });
    });

    // Add subtle animations to elements on hover
    const animateOnHover = (selector, animation) => {
        document.querySelectorAll(selector).forEach(element => {
            element.addEventListener('mouseenter', () => {
                element.style.animation = animation;
            });

            element.addEventListener('animationend', () => {
                element.style.animation = '';
            });
        });
    };

    animateOnHover('.cta-button', 'pulse 0.5s ease');
    animateOnHover('.role-badge', 'shake 0.5s ease');

    // Custom animations
    const style = document.createElement('style');
    style.textContent = `
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeOutDown {
            from {
                opacity: 1;
                transform: translateY(0);
            }
            to {
                opacity: 0;
                transform: translateY(20px);
            }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
    `;
    document.head.appendChild(style);
});

// Intersection Observer for Advanced Animations
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -100px 0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('in-view');

            // Add stagger effect for child elements
            const children = entry.target.querySelectorAll('.animate-child');
            children.forEach((child, index) => {
                setTimeout(() => {
                    child.classList.add('in-view');
                }, index * 100);
            });
        }
    });
}, observerOptions);

// Observe all sections and special elements
document.addEventListener('DOMContentLoaded', () => {
    const elementsToObserve = document.querySelectorAll('section, .coach-card, .roster-item, .faq-item');
    elementsToObserve.forEach(el => observer.observe(el));
});

// Mobile Menu Toggle
function initMobileMenu() {
    const navbar = document.getElementById('navbar');
    const menuToggle = document.createElement('button');
    menuToggle.className = 'mobile-menu-toggle';
    menuToggle.innerHTML = '<span></span><span></span><span></span>';
    menuToggle.setAttribute('aria-label', 'Toggle navigation menu');

    // Only add mobile menu on smaller screens
    if (window.innerWidth <= 768) {
        navbar.insertBefore(menuToggle, navbar.firstChild);

        menuToggle.addEventListener('click', () => {
            navbar.classList.toggle('mobile-open');
            menuToggle.classList.toggle('active');
            document.body.style.overflow = navbar.classList.contains('mobile-open') ? 'hidden' : '';
        });

        // Close menu when clicking on a link
        const navLinks = navbar.querySelectorAll('a');
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                navbar.classList.remove('mobile-open');
                menuToggle.classList.remove('active');
                document.body.style.overflow = '';
            });
        });
    }
}

// Initialize mobile menu on load and resize
window.addEventListener('DOMContentLoaded', initMobileMenu);
window.addEventListener('resize', () => {
    const existingToggle = document.querySelector('.mobile-menu-toggle');
    if (existingToggle) existingToggle.remove();
    initMobileMenu();
});

// Performance optimization - Debounce scroll events
function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

// Apply debouncing to scroll events
const debouncedScroll = debounce(() => {
    // Trigger scroll-based animations
    document.dispatchEvent(new Event('optimizedScroll'));
}, 10);

window.addEventListener('scroll', debouncedScroll);

// Easter Egg - Konami Code
const konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
let konamiIndex = 0;

document.addEventListener('keydown', (e) => {
    if (e.key === konamiCode[konamiIndex]) {
        konamiIndex++;
        if (konamiIndex === konamiCode.length) {
            activateEasterEgg();
            konamiIndex = 0;
        }
    } else {
        konamiIndex = 0;
    }
});

function activateEasterEgg() {
    document.body.style.animation = 'rainbow 2s linear infinite';
    const easterStyle = document.createElement('style');
    easterStyle.textContent = `
        @keyframes rainbow {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }
    `;
    document.head.appendChild(easterStyle);

    setTimeout(() => {
        document.body.style.animation = '';
        easterStyle.remove();
    }, 5000);
}
  </script>
</body>
</html>
